//TODO store sender in lazy tls for thread safety
//fn append   requires append and wait-for-append
//fn snapshot requires snapshot(chain[s]) + start-prefetch(chain)
//fn get-next
